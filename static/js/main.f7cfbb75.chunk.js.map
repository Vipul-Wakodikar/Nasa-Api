{"version":3,"sources":["Components/Header/Header.js","Components/Card/Card.js","Components/Pages/Pages.js","Components/Main/Main.js","App.js","index.js"],"names":["Header","Fragment","className","React","Component","Card","props","card_data","data","links","title","date_created","href","src","width","Date","toLocaleString","Pages","search_data","query","keywords","useState","currentPage","setCurrentPage","pageinatedCardData","pageNo","maxRecords","start","end","filter","elem","idx","getCardData","map","onClick","prevValue","disabled","length","nextValue","e","keyword","Main","test_data","error","pageData","setPageData","isPageComponentShown","setIsPageComponentShown","pictureDesc","setPictureDesc","isLoading","setIsLoading","searchText","setSearchText","itemData","uniqueKeywords","forEach","items","push","ukw","Set","getKeywords","console","log","useEffect","a","axios","url","response","onSearchButtonHandler","collection","type","id","value","onChange","event","target","hdurl","explanation","date","copyright","App","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.f7cfbb75.chunk.js","sourcesContent":["import React from 'react';\r\nimport './Header.css';\r\n\r\nexport default class Header extends React.Component {\r\n    render(){\r\n        return(\r\n            <React.Fragment>\r\n                <h1 data-testid=\"header-text\" className = {\"header-name\"}>NASA Media Search</h1>\r\n            </React.Fragment>\r\n        );\r\n    }\r\n}","import React from 'react';\r\nimport './Card.css';\r\n\r\nconst Card = (props) =>{\r\n    const { card_data } = props;\r\n    const { data,links } = card_data;\r\n    const { title,date_created } = data[0];\r\n    const { href } = links[0];\r\n    return(\r\n        <div className = \"card-section\">\r\n            <img src = {href} width = \"100px\" data-testid=\"image-src\" />\r\n            <div className = \"card-details\">\r\n                <h4 data-testid=\"title-text\">{title}</h4>\r\n                <span data-testid=\"card-date\">{new Date(date_created).toLocaleString()}</span>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\nexport default Card","import React, { useState } from \"react\";\r\nimport \"./Pages.css\";\r\nimport Card from \"../Card/Card\";\r\nimport axios from \"axios\";\r\n\r\nconst getCardData = (data, pageNo, maxRecords) => {\r\n  const start = pageNo;\r\n  const end = pageNo + (maxRecords - 1);\r\n  return data.filter((elem, idx) => idx >= start && idx <= end);\r\n};\r\n\r\nconst Pages = (props) => {\r\n  const { search_data, query, keywords } = props;\r\n  const [currentPage, setCurrentPage] = useState(0);\r\n  const pageinatedCardData = getCardData(search_data, currentPage, 3);\r\n\r\n  const onPreviousHandler = () => {\r\n    setCurrentPage((prevValue) => {\r\n      return prevValue - 1;\r\n    });\r\n  };\r\n\r\n  const onNextHandler = () => {\r\n    setCurrentPage((nextValue) => {\r\n      return nextValue + 1;\r\n    });\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <div className=\"page-container\">\r\n        <h2 data-testid=\"search-query\">Search Results for {query}</h2>\r\n        {pageinatedCardData.map((data) => {\r\n          return <Card card_data={data} />;\r\n        })}\r\n        <button onClick={onPreviousHandler} disabled={currentPage === 0}>\r\n          {\"< Previous\"}\r\n        </button>\r\n        <button\r\n          disabled={currentPage === search_data.length}\r\n          onClick={onNextHandler}\r\n        >\r\n          {\"Next >\"}\r\n        </button>\r\n        <h5>Related Searches</h5>\r\n        <div className=\"keywords-section\">\r\n          {keywords\r\n            .filter((e, idx) => idx < 10)\r\n            .map((keyword) => {\r\n              return <span>{keyword}</span>;\r\n            })}\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\nexport default Pages;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport axios from \"axios\";\r\nimport \"./Main.css\";\r\nimport Pages from \"../Pages/Pages\";\r\n\r\nconst getKeywords = (itemData) =>{\r\n  let uniqueKeywords = [];  \r\n  if(itemData.length === 0){\r\n        return [];\r\n    }\r\n    itemData.forEach(items => {\r\n        const { data } = items;\r\n        const { keywords } = data[0];\r\n        uniqueKeywords.push(...keywords);\r\n    });\r\n    let ukw = new Set(uniqueKeywords);\r\n    return [...ukw];\r\n}\r\n\r\nconst Main = (props) => {\r\n\r\n\r\n    // const getKeyWord = (itemData) =>{\r\n    //     if(itemData.length === 0){\r\n    //         return [];\r\n    //     }\r\n    //     let uniqueKeyWord = [];\r\n    //     itemData.forEach((item) => {\r\n    //         const { data } = item;\r\n    //         const { keyWords } = data[0];\r\n    //         uniqueKeyWord.push(...keyWords);\r\n    //     });\r\n    //     return [...new Set(uniqueKeyWord)];\r\n    // }\r\n\r\n  const { test_data, error } = props;\r\n  const [pageData, setPageData] = useState('');\r\n  const [isPageComponentShown, setIsPageComponentShown] = useState(false);\r\n  const API_KEY = \"dkuV7AkRT42KMbck6XpYgzEymzS1p0hbV4QpbW7r\";\r\n  const [pictureDesc, setPictureDesc] = useState(test_data ? test_data : '');\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [searchText, setSearchText] = useState('');\r\n  const keywords = getKeywords(pageData);\r\n  console.log(keywords);\r\n\r\n\r\n  useEffect(async () => {\r\n    setIsLoading(true);\r\n\r\n    try {\r\n      const response = await axios({\r\n        url: `https://api.nasa.gov/planetary/apod?api_key=${API_KEY}&thumbs=true`,\r\n      });\r\n      const { data } = response;\r\n      console.log(data);\r\n      setPictureDesc(data);\r\n      setIsLoading(false);\r\n    } catch (err) {\r\n      console.log(\"Some Error occurred\" + err);\r\n      setIsLoading(false);\r\n      \r\n    }\r\n  }, []);\r\n\r\n  const onSearchHandler = (event) => {\r\n    console.log(event.target.value);\r\n    setSearchText(event.target.value);\r\n  };\r\n\r\n  const onSearchButtonHandler = async () => {\r\n      setIsLoading(true);\r\n    const response = await axios({\r\n      url: `https://images-api.nasa.gov/search?q=${searchText}`\r\n    });\r\n    console.log(response);\r\n    const { data } = response;\r\n    const { collection } = data;\r\n    const { items } = collection;\r\n    setPageData(items);\r\n    setIsLoading(false);\r\n    setIsPageComponentShown(true);\r\n    \r\n  };\r\n  return (\r\n    <>\r\n      <main>\r\n        {isLoading ? (\r\n          <h3>Loading...</h3>\r\n        ) : (\r\n          <>\r\n            {isPageComponentShown ? (\r\n              <>\r\n                <Pages search_data={pageData} query={searchText} keywords={keywords} />\r\n              </>\r\n            ) : (\r\n              <>\r\n                <div className=\"top_container\">\r\n                  <h2>{pictureDesc && pictureDesc.title}</h2>\r\n                  <div>\r\n                    <input\r\n                      type=\"text\"\r\n                      id=\"search\"\r\n                      value={searchText}\r\n                      onChange={onSearchHandler}\r\n                    ></input>\r\n                    <button\r\n                      type=\"button\"\r\n                      className=\"search_button\"\r\n                      onClick={onSearchButtonHandler}\r\n                    >\r\n                      search\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n                <div className=\"down_container\">\r\n                  <div className=\"image_container\">\r\n                    <img\r\n                      src={pictureDesc.hdurl}\r\n                      data-testid=\"image-src\"\r\n                    ></img>\r\n                  </div>\r\n                  <div>\r\n                    <p className=\"dec_container\" data-testid=\"image-dec\">\r\n                      {pictureDesc.explanation}\r\n                    </p>\r\n                  </div>\r\n                  <div>\r\n                    <p data-testid=\"image-date\" className=\"dec_container\">\r\n                      {pictureDesc.date}\r\n                    </p>\r\n                  </div>\r\n                  <div>\r\n                    <p data-testid=\"copyright-text\" className=\"dec_container\">\r\n                      {pictureDesc.copyright}\r\n                    </p>\r\n                  </div>\r\n                </div>\r\n              </>\r\n            )}\r\n          </>\r\n        )}\r\n      </main>\r\n    </>\r\n  );\r\n};\r\nexport default Main;\r\n","import React from 'react';\r\nimport './App.css';\r\nimport Header from './Components/Header/Header';\r\nimport Main from './Components/Main/Main';\r\n\r\nexport default class App extends React.Component {\r\n    render(){\r\n        return(\r\n            <React.Fragment>\r\n                <Header/>\r\n                <Main/>\r\n            </React.Fragment>\r\n        );\r\n    }\r\n}","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\n\r\nReactDOM.render(\r\n    <App/>,\r\n    document.getElementById('root')\r\n);"],"sourceRoot":""}